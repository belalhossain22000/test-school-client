(()=>{var e={};e.id=735,e.ids=[735],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6800:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sumon/Projects/Test school/frontend-test-school/app/auth/verify-otp/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sumon/Projects/Test school/frontend-test-school/app/auth/verify-otp/page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15472:(e,t,s)=>{Promise.resolve().then(s.bind(s,6800))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35554:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>h,tree:()=>d});var r=s(65239),a=s(48088),o=s(88170),n=s.n(o),i=s(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let d={children:["",{children:["auth",{children:["verify-otp",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6800)),"/Users/sumon/Projects/Test school/frontend-test-school/app/auth/verify-otp/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/Users/sumon/Projects/Test school/frontend-test-school/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,82366)),"/Users/sumon/Projects/Test school/frontend-test-school/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,u=["/Users/sumon/Projects/Test school/frontend-test-school/app/auth/verify-otp/page.tsx"],c={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/auth/verify-otp/page",pathname:"/auth/verify-otp",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},37652:(e,t,s)=>{"use strict";s.d(t,{_L:()=>r,fQ:()=>i,ge:()=>a,nd:()=>n,x8:()=>l});let{useLoginMutation:r,useRegisterMutation:a,useSocialAuthMutation:o,useForgotPasswordMutation:n,useResendOtpMutation:i,useVerifyOtpMutation:l,useResetPasswordMutation:d,useChangePasswordMutation:u,useGetMeQuery:c,useUpdateUserMutation:h}=s(59489).q.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"/auth/login",method:"POST",body:e}),invalidatesTags:["User"]}),register:e.mutation({query:e=>({url:"/users/register",method:"POST",body:e}),invalidatesTags:["User"]}),socialAuth:e.mutation({query:e=>({url:"/auth/social-login",method:"POST",body:e}),invalidatesTags:["User"]}),forgotPassword:e.mutation({query:e=>({url:"/auth/forgot-password",method:"POST",body:e}),invalidatesTags:["User"]}),resendOtp:e.mutation({query:e=>({url:"/otp/send",method:"POST",body:e})}),verifyOtp:e.mutation({query:e=>({url:"/otp/verify",method:"POST",body:e})}),resetPassword:e.mutation({query:e=>({url:"/auth/reset-password",method:"POST",body:e})}),changePassword:e.mutation({query:e=>({url:"/auth/change-password",method:"POST",body:e})}),getMe:e.query({query:()=>({url:"/users/me",method:"GET"}),providesTags:["User"]}),updateUser:e.mutation({query:e=>({url:"/users/profile",method:"PUT",body:e}),invalidatesTags:["User"]})})})},41550:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},62858:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(60687),a=s(43210),o=s(16189),n=s(85814),i=s.n(n),l=s(24934),d=s(68988),u=s(39390),c=s(55192),h=s(3018),p=s(28559),m=s(41550),x=s(37652),f=s(52581);function g(){let e=(0,o.useRouter)(),t=(0,o.useSearchParams)().get("email")||"",[s,n]=(0,a.useState)(["","","","","",""]),[g,y]=(0,a.useState)(!1),[v,j]=(0,a.useState)(""),[b,P]=(0,a.useState)(0),[T,{isLoading:w}]=(0,x.x8)(),[q,{isLoading:N}]=(0,x.fQ)(),O=(e,t)=>{if(t.length>1)return;let r=[...s];if(r[e]=t,n(r),t&&e<5){let t=document.getElementById(`otp-${e+1}`);t?.focus()}},_=(e,t)=>{if("Backspace"===t.key&&!s[e]&&e>0){let t=document.getElementById(`otp-${e-1}`);t?.focus()}},k=async r=>{r.preventDefault(),y(!0),j("");let a=s.join("");if(6!==a.length){j("Please enter all 6 digits"),y(!1);return}try{let s=await T({email:t,otp:parseInt(a)}).unwrap();s.success?(f.o.success("OTP verified successfully!"),setTimeout(()=>{e.push("/auth/login?verified=true")},1e3)):j(s.message||"Invalid OTP. Please try again.")}catch(e){j(e?.data?.message||e.message||"OTP verification failed.")}finally{y(!1)}},S=async()=>{P(60),j("");try{let e=await q({email:t}).unwrap();f.o.success(e.message||"OTP has been resent to your email")}catch(t){let e=t?.data?.message||t.message||"Failed to resend OTP. Please try again.";j(e),f.o.error(e)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(l.$,{variant:"ghost",asChild:!0,className:"mb-4",children:(0,r.jsxs)(i(),{href:"/auth/register",children:[(0,r.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Back to Register"]})})}),(0,r.jsxs)(c.Zp,{children:[(0,r.jsxs)(c.aR,{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(m.A,{className:"w-6 h-6 text-white"})}),(0,r.jsx)(c.ZB,{className:"text-2xl",children:"Verify Your Email"}),(0,r.jsxs)(c.BT,{children:["We've sent a 6-digit code to",(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:t})]})]}),(0,r.jsxs)(c.Wu,{children:[(0,r.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[v&&(0,r.jsx)(h.Fc,{variant:"destructive",children:(0,r.jsx)(h.TN,{children:v})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.J,{children:"Enter verification code"}),(0,r.jsx)("div",{className:"flex gap-2 justify-center",children:s.map((e,t)=>(0,r.jsx)(d.p,{id:`otp-${t}`,type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>O(t,e.target.value),onKeyDown:e=>_(t,e),className:"w-12 h-12 text-center text-lg font-semibold"},t))})]}),(0,r.jsx)(l.$,{type:"submit",className:"w-full",disabled:g,children:g?"Verifying...":"Verify Email"})]}),(0,r.jsxs)("div",{className:"mt-6 text-center",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Didn't receive the code?"}),(0,r.jsx)(l.$,{variant:"ghost",onClick:S,disabled:b>0,className:"text-blue-600 hover:text-blue-700",children:b>0?`Resend in ${b}s`:"Resend Code"})]})]})]})]})})}function y(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(g,{})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73616:(e,t,s)=>{Promise.resolve().then(s.bind(s,62858))}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[162,404,150],()=>s(35554));module.exports=r})();